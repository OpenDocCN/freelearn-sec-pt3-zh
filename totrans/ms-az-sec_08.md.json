["```\nNew-AzResourceGroup -Name 'Packt-Encrypt' -Location 'EastUS'\n$storageAccount = Set-AzStorageAccount -ResourceGroupName 'Packt-Encrypt' `\n    -Name packtstorageencryption `\n    -AssignIdentity\nNew-AzKeyvault -name 'Pact-KV-01' -ResourceGroupName 'Packt-Encrypt' `\n-Location 'EastUS' `\n-EnabledForDiskEncryption `\n-EnableSoftDelete `\n-EnablePurgeProtection\n$KeyVault = Get-AzKeyVault -VaultName 'Pact-KV-01' -ResourceGroupName 'Packt-Encrypt'\nSet-AzKeyVaultAccessPolicy `\n    -VaultName $keyVault.VaultName `\n    -ObjectId $storageAccount.Identity.PrincipalId `\n    -PermissionsToKeys wrapkey,unwrapkey,get,recover\n$key = Add-AzKeyVaultKey -VaultName $keyVault.VaultName -Name 'MyKey' -Destination 'Software'\nSet-AzStorageAccount -ResourceGroupName $storageAccount.ResourceGroupName `\n    -AccountName $storageAccount.StorageAccountName `\n    -KeyvaultEncryption `\n    -KeyName $key.Name `\n    -KeyVersion $key.Version `\n    -KeyVaultUri $keyVault.VaultUri \n```", "```\nNew-AzResourceGroup -Name \"Packt-Encrypt\" -Location \"EastUS\"\n$cred = Get-Credential \nNew-AzVM -Name 'Packt-VM-01' `\n-Credential $cred `\n-ResourceGroupName 'Packt-Encrypt' `\n-Image win2016datacenter `\n-Size Standard_D2S_V3\nNew-AzKeyvault -name 'Pact-KV-01' `\n-ResourceGroupName 'Packt-Encrypt' `\n-Location EastUS `\n-EnabledForDiskEncryption `\n-EnableSoftDelete `\n-EnablePurgeProtection\n$KeyVault = Get-AzKeyVault -VaultName 'Pact-KV-01' -ResourceGroupName 'Packt-Encrypt'\nSet-AzVMDiskEncryptionExtension -ResourceGroupName 'Packt-Encrypt' `\n-VMName 'Packt-VM-01' `\n-DiskEncryptionKeyVaultUrl $KeyVault.VaultUri `\n-DiskEncryptionKeyVaultId $KeyVault.ResourceId\nGet-AzVmDiskEncryptionStatus -VMName Packt-VM-01 -ResourceGroupName Packt-Encrypt \n```", "```\n    $RGName = 'Packt-Encrypt'$servername = 'packtSQL'$DBName = 'test'\n    ```", "```\n    $cred = Get-Credential \n    ```", "```\n    $RG = New-AzResourceGroup -Name $RGName -Location 'EastUS'\n    $server = Set-AzSqlServer -ResourceGroupName $RG.ResourceGroupName `\n    -ServerName $servername `\n    -AssignIdentity\n    $server = New-AzSqlServer -ResourceGroupName $RG.ResourceGroupName  `\n    -Location 'EastUS' `\n    -ServerName $server.ServerName `\n    -ServerVersion \"12.0\" `\n    -SqlAdministratorCredentials $cred `\n    -AssignIdentity\n    $database = New-AzSqlDatabase  -ResourceGroupName $RG.ResourceGroupName `\n    -ServerName $server.ServerName `\n    -DatabaseName $DBName `\n    -RequestedServiceObjectiveName \"S0\" `\n    -SampleName \"AdventureWorksLT\"\n    ```", "```\n    New-AzKeyvault -name 'Pact-KV-01' -ResourceGroupName $RG.ResourceGroupName`\n    -Location 'EastUS' `\n    -EnabledForDiskEncryption `\n    -EnableSoftDelete `\n    -EnablePurgeProtection\n    $KeyVault = Get-AzKeyVault -VaultName 'Pact-KV-01' `\n    -ResourceGroupName $RG.ResourceGroupName\n    ```", "```\n    Set-AzKeyVaultAccessPolicy `\n    -VaultName $keyVault.VaultName `\n    -ObjectId $storageAccount.Identity.PrincipalId `\n    -PermissionsToKeys wrapkey,unwrapkey,get,recover\n    $key = Add-AzKeyVaultKey -VaultName $keyVault.VaultName `\n    -Name 'MyKey' `\n    -Destination 'Software'\n    ```", "```\n    Add-AzSqlServerKeyVaultKey -ResourceGroupName $RG.ResourceGroupName  `\n    -ServerName $server.ServerName `\n    -KeyId $key.Id\n    Set-AzSqlServerTransparentDataEncryptionProtector -ResourceGroupName $RG.ResourceGroupName  `\n    -ServerName $server.ServerName `\n    -Type AzureKeyVault `\n    -KeyId $key.Id\n    Get-AzSqlServerTransparentDataEncryptionProtector -ResourceGroupName $RG.ResourceGroupName  `\n    -ServerName $server.ServerName\n    Set-AzSqlDatabaseTransparentDataEncryption -ResourceGroupName -ResourceGroupName $RG.ResourceGroupName  `\n    -ServerName $server.ServerName `\n    -DatabaseName $database.DatabaseName `\n    -State \"Enabled\" \n    ```"]